<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script defer>
        window.onload = () => lucide.createIcons();
    </script>
    <title>BYOD Manager</title>
    <style>
        .nav-link.selected div {
            background-color: #dbeafe;
            color: #2563eb;
        }

        .nav-link.selected svg {
            color: #2563eb;
        }

        .nav-link svg {
            transition: color 0.3s ease;
        }

        .bottom-footer {
            background-color: #f3f4f6;
            color: #333333;
            text-align: center;
            font-size: 0.75rem;
            padding: 1rem 0;
            margin-top: 3rem;
            border-top: 1px solid #e5e7eb;
        }

        .bottom-footer .footer-top {
            margin-bottom: 0.3rem;
        }

        .bottom-footer .footer-links a {
            color: #333333;
            text-decoration: none;
            margin: 0 0.25rem;
        }

        .bottom-footer .footer-links a:hover {
            text-decoration: underline;
        }

        .bottom-footer .footer-links span.separator {
            margin: 0 0.25rem;
            color: #999999;
        }

        /* Hide footer on all pages except index.html */
        .footer-hide {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100">
    <header class="bg-white shadow-lg">
        <div class="max-w-6xl mx-auto px-4 flex justify-between items-center py-4">
            <h1 class="flex gap-2 text-xl font-bold text-blue-600"><i data-lucide="book-open" class="w-6 h-6 mt-1 text-blue-600"></i>BYOD Manager</h1>
            <nav>
                <ul class="flex space-x-4">
                    <li>
                        <a href="#" onclick="loadPage('index.html', this)" class="nav-link selected">
                            <div class="flex gap-[6px] font-semibold text-gray-500 hover:bg-gray-100 p-2 rounded-lg transition">
                                <i data-lucide="layout-grid" class="w-[18px] h-[18px] text-gray-500 mt-1"></i>
                                <span>Dashboard</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="loadPage('devices.html', this)" class="nav-link">
                            <div class="flex gap-[6px] font-semibold text-gray-500 hover:bg-gray-100 p-2 rounded-lg transition">
                                <i data-lucide="monitor" class="w-[18px] h-[18px] text-gray-500 mt-1"></i>
                                <span>Devices</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="loadPage('security.html', this)" class="nav-link">
                            <div class="flex gap-[6px] font-semibold text-gray-500 hover:bg-gray-100 p-2 rounded-lg transition">
                                <i data-lucide="shield" class="w-[18px] h-[18px] text-gray-500 mt-1"></i>
                                <span>Security</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="#" onclick="loadPage('activity.html', this)" class="nav-link">
                            <div class="flex gap-[6px] font-semibold text-gray-500 hover:bg-gray-100 p-2 rounded-lg transition">
                                <i data-lucide="activity" class="w-[18px] h-[18px] text-gray-500 mt-1"></i>
                                <span>Activities</span>
                            </div>
                        </a>
                    </li>
                    <li>
                        <a href="login1.html" class="border border-gray px-5 font-semibold mb-[-10px] text-gray-500 hover:bg-gray-100 p-2 rounded-lg transition absolute ">Logout</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="max-w-full mx-auto px-4 py-8" id="main-content">
        <section class="mb-8">
            <div class="flex justify-between mb-4">
                <h2 class="text-2xl font-bold">Classroom Overview</h2>
                <div class="text-right">
                    <button onclick="generateReport()" class="bg-blue-600 text-white px-4 py-2 rounded mb-2 hover:bg-blue-700 transition">Generate Report</button>
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <div class="flex gap-3 bg-white p-6 rounded-lg shadow">
                    <div class="rounded-full mt-4 h-[55px] w-[55px] bg-blue-50 flex items-center justify-center">
                        <i data-lucide="users" class="w-7 h-7 text-blue-400" aria-label="Active Users"></i>
                    </div>
                    <div>
                        <h3 class="text-gray-600">Active Users</h3>
                        <p class="text-4xl font-bold">124</p>
                        <p class="text-gray-500">Currently online</p>
                    </div>
                </div>
                <div class="flex gap-3 bg-white p-6 rounded-lg shadow">
                    <div class="rounded-full mt-4 h-[55px] w-[55px] bg-green-50 flex items-center justify-center">
                        <i data-lucide="monitor" class="w-7 h-7 text-green-400" aria-label="Registered Devices"></i>
                    </div>
                    <div>
                        <h3 class="text-gray-600">Registered Devices</h3>
                        <p class="text-4xl font-bold">256</p>
                        <p class="text-gray-500">Total devices</p>
                    </div>
                </div>
                <div class="flex gap-3 bg-white p-6 rounded-lg shadow">
                    <div class="rounded-full mt-4 h-[55px] w-[55px] bg-red-50 flex items-center justify-center">
                        <i data-lucide="shield-alert" class="w-7 h-7 text-red-400" aria-label="Security Alerts"></i>
                    </div>
                    <div>
                        <h3 class="text-gray-600">Security Alerts</h3>
                        <p class="text-4xl font-bold">2</p>
                        <p class="text-gray-500">Last 24 hours</p>
                    </div>
                </div>
                <div class="flex gap-3 bg-white p-6 rounded-lg shadow">
                    <div class="rounded-full mt-4 h-[55px] w-[55px] bg-gray-50 flex items-center justify-center">
                        <i data-lucide="activity" class="w-7 h-7 text-gray-700" aria-label="Activity Level"></i>
                    </div>
                    <div>
                        <h3 class="text-gray-600">Activity Level</h3>
                        <p class="text-4xl font-bold">85%</p>
                        <p class="text-gray-500">Average engagement</p>
                    </div>
                </div>
            </div>
        </section>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <section class="bg-white rounded-lg p-5 shadow">
                <h2 class="text-2xl font-semibold mb-4">Recent Activities</h2>
                <div class="flex items-center gap-3 bg-gray-100 p-4 rounded-lg mb-4">
                    <i data-lucide="activity" class="w-5 h-5 text-gray-500" aria-label="New Device Registered"></i>
                    <div>
                        <p class="font-semibold text-black">New device registered</p>
                        <p class="text-gray-500 text-sm">2 minutes ago</p>
                    </div>
                </div>
                <div class="flex items-center gap-3 bg-gray-100 p-4 rounded-lg mb-4">
                    <i data-lucide="activity" class="w-5 h-5 text-gray-500" aria-label="Security Policy Updated"></i>
                    <div>
                        <p class="font-semibold text-black">Security policy updated</p>
                        <p class="text-gray-500 text-sm">15 minutes ago</p>
                    </div>
                </div>
                <div class="flex gap-3 items-center bg-gray-100 p-4 rounded-lg">
                    <i data-lucide="activity" class="w-5 h-5 text-gray-500" aria-label="User  Logged In"></i>
                    <div>
                        <p class="font-semibold text-black">User  logged in</p>
                        <p class="text-gray-500 text-sm">30 minutes ago</p>
                    </div>
                </div>
            </section>

            <section class="bg-white rounded-lg p-5 shadow">
                <h2 class="text-2xl font-semibold mb-4">Device Status</h2>
                <div class="flex justify-between items-center bg-gray-100 p-4 rounded-lg mb-4">
                    <div class="flex items-center gap-3">
                        <i data-lucide="monitor" class="w-5 h-5 text-gray-500" aria-label="Device: MacBook Pro"></i>
                        <div>
                            <p class="font-semibold text-black">MacBook Pro - John Doe</p>
                            <p class="text-gray-500 text-sm">Last active: 5 mins ago</p>
                        </div>
                    </div>
                    <span class="inline-flex items-center bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs">
                        Active
                    </span>
                </div>
                <div class="flex justify-between items-center bg-gray-100 p-4 rounded-lg mb-4">
                    <div class="flex items-center gap-3">
                        <i data-lucide="monitor" class="w-5 h-5 text-gray-500" aria-label="Device: iPad Air"></i>
                        <div>
                            <p class="font-semibold text-black">iPad Air - Jane Smith</p>
                            <p class="text-gray-500 text-sm">Last active: 15 mins ago</p>
                        </div>
                    </div>
                    <span class="inline-flex items-center bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-xs">
                        Idle
                    </span>
                </div>
                <div class="flex justify-between items-center bg-gray-100 p-4 rounded-lg">
                    <div class="flex items-center gap-3">
                        <i data-lucide="monitor" class="w-5 h-5 text-gray-500" aria-label="Device: Dell XPS"></i>
                        <div>
                            <p class="font-semibold text-black">Dell XPS - Mike Johnson</p>
                            <p class="text-gray-500 text-sm">Last active: 2 hours ago</p>
                        </div>
                    </div>
                    <span class="inline-flex items-center bg-red-100 text-red-700 px-3 py-1 rounded-full text-xs">
                        Offline
                    </span>
                </div>
            </section>
        </div>
    </main>

    <footer class="bottom-footer footer-hide" id="footer">
        <div class="footer-top">
            © All rights are reserved.
        </div>
        <div class="footer-links">
            <a href="home.html">Home</a><span class="separator">|</span>
            <a href="contact.html">Contact Us</a><span class="separator">|</span>
            <a href="feedback.html">Feedback</a><span class="separator">|</span>
            <a href="about.html">About Us</a>
        </div>
    </footer>

    <script src="devices.js"></script>
    <script src="activity.js"></script>
    <script>
        function loadPage(page, element) {
            event.preventDefault();
            fetch(page)
                .then(res => res.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const mainContent = doc.querySelector('main')?.innerHTML || html;
                    document.getElementById('main-content').innerHTML = mainContent;
                    lucide.createIcons();

                    if (page === 'devices.html' || page === 'activity.html' || page === 'security.html') {
                        document.getElementById('footer').classList.add('footer-hide');
                    } else {
                        document.getElementById('footer').classList.remove('footer-hide');
                    }

                    document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('selected'));
                    element.classList.add('selected');
                })
                .catch(err => {
                    console.error("Page load failed:", err);
                });
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('selected'));
            document.querySelector('.nav-link').classList.add('selected');
            if (window.location.pathname === '/index.html') {
                document.getElementById('footer').classList.remove('footer-hide');
            }
        });

        function generateReport() {
            const activeUsers = document.querySelector('.flex .text-4xl.font-bold').innerText;
            const registeredDevices = document.querySelectorAll('.flex .text-4xl.font-bold')[1].innerText;
            const securityAlerts = document.querySelectorAll('.flex .text-4xl.font-bold')[2].innerText;
            const activityLevel = document.querySelectorAll('.flex .text-4xl.font-bold')[3].innerText;

            const reportContent = `BYOD Management Report
            -----------------------
            Active Users: ${activeUsers}
            Registered Devices: ${registeredDevices}
            Security Alerts: ${securityAlerts}
            Activity Level: ${activityLevel}`;

            const blob = new Blob([reportContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'BYOD_Report.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
